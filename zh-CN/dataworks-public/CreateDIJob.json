{
  "name": "CreateDIJob",
  "deprecated": false,
  "protocol": "HTTPS",
  "method": "GET|POST",
  "pathPattern": "",
  "parameters": [
    {
      "name": "Description",
      "description": "任务的描述",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "DestinationDataSourceSettings",
      "description": "目标端数据源设置列表",
      "position": "Body",
      "type": "Json",
      "required": true,
      "sub_parameters": [
        {
          "name": "DataSourceName",
          "position": "FormData",
          "type": "String",
          "required": false
        }
      ]
    },
    {
      "name": "DestinationDataSourceType",
      "description": "目标端数据源类型，枚举值：Hologres，OSS-HDFS，OSS，MaxCompute，LogHub，StarRocks，DataHub，AnalyticDB_For_MySQL，Kafka，Hive。",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "JobName",
      "description": "该字段已废弃，请使用Name字段。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "JobSettings",
      "description": "同步任务维度的设置，含DDL处理策略、源端和目标端列数据类型映射策略、任务运行时参数等",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "JobType",
      "description": "任务类型，可选\n\n - DatabaseRealtimeMigration(整库实时):将源端多个库的多个表进行流同步，支持仅全量，仅增量，或全量+增量。\n\n - DatabaseOfflineMigration(整库离线):将源端多个库的多个表进行批同步，支持仅全量，仅增量，或全量+增量。\n\n - SingleTableRealtimeMigration(单表实时):将源端单个表进行流同步",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "MigrationType",
      "description": "同步类型，可选的枚举值有：\n- FullAndRealtimeIncremental（全量和实时增量，整库实时）\n- RealtimeIncremental（实时增量，单表实时）\n- Full（全量，整库离线）\n- OfflineIncremental（离线增量，整库离线）\n- FullAndOfflineIncremental（全量+离线增量，整库离线）",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "Name",
      "description": "任务名称。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "ProjectId",
      "description": "DataWorks工作空间的ID。您可以登录[DataWorks控制台](https://workbench.data.aliyun.com/console)，进入工作空间管理页面获取ID。\n\n该参数用来确定本次API调用操作使用的DataWorks工作空间。",
      "position": "Query",
      "type": "Long",
      "required": false
    },
    {
      "name": "ResourceSettings",
      "description": "资源设置",
      "position": "Body",
      "type": "String",
      "required": true
    },
    {
      "name": "SourceDataSourceSettings",
      "description": "源端数据源设置列表",
      "position": "Body",
      "type": "Json",
      "required": true,
      "sub_parameters": [
        {
          "name": "DataSourceName",
          "position": "FormData",
          "type": "String",
          "required": false
        },
        {
          "name": "DataSourceProperties",
          "position": "FormData",
          "type": "Struct",
          "required": false
        }
      ]
    },
    {
      "name": "SourceDataSourceType",
      "description": "源端数据源类型，枚举值： PolarDB，MySQL，Kafka，LogHub，Hologres，Oracle，OceanBase，MongoDB，RedShift，Hive，SQLServer，Doris，ClickHouse。",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "TableMappings",
      "description": "同步对象转换映射列表，列表中每个元素描述了一组源端同步对象选择规则列表和在该组同步对象上应用的同步对象转换规则列表\n\n> [ { \"SourceObjectSelectionRules\":[ { \"ObjectType\":\"Database\", \"Action\":\"Include\", \"ExpressionType\":\"Exact\", \"Expression\":\"biz_db\" }, { \"ObjectType\":\"Schema\", \"Action\":\"Include\", \"ExpressionType\":\"Exact\", \"Expression\":\"s1\" }, { \"ObjectType\":\"Table\", \"Action\":\"Include\", \"ExpressionType\":\"Exact\", \"Expression\":\"table1\" } ], \"TransformationRuleNames\":[ { \"RuleName\":\"my_database_rename_rule\", \"RuleActionType\":\"Rename\", \"RuleTargetType\":\"Schema\" } ] } ]",
      "position": "Body",
      "type": "Json",
      "required": true,
      "sub_parameters": [
        {
          "name": "SourceObjectSelectionRules",
          "position": "FormData",
          "type": "RepeatList",
          "required": false
        },
        {
          "name": "TransformationRules",
          "position": "FormData",
          "type": "RepeatList",
          "required": false
        }
      ]
    },
    {
      "name": "TransformationRules",
      "description": "同步对象转换规则定义列表\n>[ { \"RuleName\":\"my_database_rename_rule\", \"RuleActionType\":\"Rename\", \"RuleTargetType\":\"Schema\", \"RuleExpression\":\"{\"expression\":\"${srcDatasoureName}_${srcDatabaseName}\"}\" } ]",
      "position": "Body",
      "type": "Json",
      "required": false,
      "sub_parameters": [
        {
          "name": "RuleActionType",
          "position": "FormData",
          "type": "String",
          "required": false
        },
        {
          "name": "RuleExpression",
          "position": "FormData",
          "type": "String",
          "required": false
        },
        {
          "name": "RuleName",
          "position": "FormData",
          "type": "String",
          "required": false
        },
        {
          "name": "RuleTargetType",
          "position": "FormData",
          "type": "String",
          "required": false
        }
      ]
    }
  ]
}