{
  "name": "CreateBackupPlan",
  "deprecated": false,
  "protocol": "HTTP|HTTPS",
  "method": "POST",
  "pathPattern": "",
  "parameters": [
    {
      "name": "BackupType",
      "description": "备份类型。取值为**COMPLETE**，表示全量备份。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "Bucket",
      "description": "仅当**SourceType**取值为**OSS**时，需要配置该参数。表示OSS bucket名称。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "ChangeListPath",
      "description": "增量文件同步列表的配置。（仅同步需要）",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "ClusterId",
      "description": "执行数据同步计划的客户端组ID。（仅同步需要）",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "CreateTime",
      "description": "仅当**SourceType**取值为**NAS**时，需要配置该参数。表示文件系统创建时间。UNIX时间，单位为秒。",
      "position": "Query",
      "type": "Long",
      "required": false
    },
    {
      "name": "CrossAccountRoleName",
      "description": "用于跨账号备份的原账号RAM中创建的角色名。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "CrossAccountType",
      "description": "跨账号备份类型。支持： \n- SELF_ACCOUNT：本账号备份\n- CROSS_ACCOUNT：跨账号备份",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "CrossAccountUserId",
      "description": "用于跨账号备份的原账号ID。",
      "position": "Query",
      "type": "Long",
      "required": false
    },
    {
      "name": "DataSourceId",
      "description": "源端数据源ID。（仅同步需要）",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "DestDataSourceDetail",
      "description": "目的端数据源详情。（仅同步需要）",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "DestDataSourceId",
      "description": "目的端数据源ID。（仅同步需要）",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "DestSourceType",
      "description": "目的端数据源类型。（仅同步需要）",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "Detail",
      "description": "整机备份详情，类型为JSON字符串。\n\n* snapshotGroup：是否使用一致性快照组（仅实例所有云盘均为ESSD时有效）。\n* appConsistent：是否使用应用一致性（需要搭配参数preScriptPath和postScriptPath使用）。\n* preScriptPath：冻结脚本路径。\n* postScriptPath：解冻脚本路径。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "Disabled",
      "description": "计划是否默认禁用",
      "position": "Query",
      "type": "Boolean",
      "required": false
    },
    {
      "name": "Exclude",
      "description": "仅当**SourceType**取值为**ECS_FILE**时，需要配置该参数。表示不需要进行备份的路径，该路径下所有文件都不备份。最多支持255个字符。",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "FileSystemId",
      "description": "仅当**SourceType**取值为**NAS**时，需要配置该参数。表示文件系统ID。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "Include",
      "description": "仅当**SourceType**取值为**ECS_FILE**时，需要配置该参数。表示需要备份的路径，该路径下所有文件都备份。最多支持255个字符。",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "InstanceId",
      "description": "仅当**SourceType**取值为**ECS_FILE**时，需要配置该参数。表示ECS实例ID。",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "InstanceName",
      "description": "表格存储实例名称。",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "KeepLatestSnapshots",
      "description": "是否开启保留至少一个备份版本。\n- 0 - 不保留\n- 1 - 保留",
      "position": "Query",
      "type": "Long",
      "required": false
    },
    {
      "name": "Options",
      "description": "仅当**SourceType**取值为**ECS_FILE**时，需要配置该参数。表示是否使用Windows系统VSS定义备份路径。\n\n- 此功能仅支持Windows类型ECS实例。\n- 如果备份源中有数据更改，需要确保备份数据与源数据的一致时，才可配置为`[\"UseVSS\":true]`。\n- 选择使用VSS后，不支持多个文件目录同时备份。",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "OtsDetail",
      "description": "表格存储实例详情。",
      "position": "Body",
      "type": "Json",
      "required": false
    },
    {
      "name": "Path",
      "description": "备份路径。",
      "position": "Body",
      "type": "RepeatList",
      "required": false
    },
    {
      "name": "PlanName",
      "description": "备份计划名称。1~64个字符，单个备份仓库下每一种数据源类型的备份计划名称唯一。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "Prefix",
      "description": "仅当**SourceType**取值为**OSS**时，需要配置该参数。表示备份前缀。指定后，仅备份前缀相匹配的对象。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "Retention",
      "description": "备份保留天数，最小值为1，单位为天。",
      "position": "Query",
      "type": "Long",
      "required": false
    },
    {
      "name": "Rule",
      "description": "备份计划规则。",
      "position": "Body",
      "type": "RepeatList",
      "required": false,
      "sub_parameters": [
        {
          "name": "BackupType",
          "position": "FormData",
          "type": "String",
          "required": false
        },
        {
          "name": "DestinationRegionId",
          "position": "FormData",
          "type": "String",
          "required": false
        },
        {
          "name": "DestinationRetention",
          "position": "FormData",
          "type": "Long",
          "required": false
        },
        {
          "name": "Disabled",
          "position": "FormData",
          "type": "Boolean",
          "required": false
        },
        {
          "name": "DoCopy",
          "position": "FormData",
          "type": "Boolean",
          "required": false
        },
        {
          "name": "Retention",
          "position": "FormData",
          "type": "Long",
          "required": false
        },
        {
          "name": "RuleName",
          "position": "FormData",
          "type": "String",
          "required": false
        },
        {
          "name": "Schedule",
          "position": "FormData",
          "type": "String",
          "required": false
        }
      ]
    },
    {
      "name": "Schedule",
      "description": "备份策略。可选格式：`I|{startTime}|{interval}`。表示从`{startTime}`开始每隔`{interval}`的时间执行一次备份任务。不会补偿已过去时间的备份任务。如果上一次备份任务没有完成，不会触发下一次备份任务。例如`I|1631685600|P1D`表示从2021-09-15 14:00:00开始每隔一天备份一次。\n\n- **startTime**：备份起始时间，UNIX时间，单位秒。\n- **interval**： ISO8601时间间隔。例如：PT1H表示间隔一小时。P1D表示间隔一天。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "SourceType",
      "description": "数据源类型，取值范围：\n\n- **ECS_FILE**：备份ECS文件\n- **OSS**：备份阿里云OSS\n- **NAS**：备份阿里云NAS\n- **OTS**：备份阿里云OTS\n- **UDM_ECS**：备份ECS整机\n- **SYNC**：数据同步",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "SpeedLimit",
      "description": "仅当**SourceType**取值为**ECS_FILE**时，需要配置该参数。表示备份流量控制。格式为`{start}:{end}:{bandwidth}`。多个流量控制配置使用|分隔，并且配置时间不允许有重叠。\n\n- **start**：起始小时。\n- **end**：结束小时。\n- **bandwidth**：限制速率，单位KB/s。",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "UdmRegionId",
      "description": "整机备份实例所在地域。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "VaultId",
      "description": "备份仓库ID。",
      "position": "Query",
      "type": "String",
      "required": false
    }
  ]
}