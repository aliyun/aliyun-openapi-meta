{
  "name": "QueryContent",
  "deprecated": false,
  "protocol": "HTTP|HTTPS",
  "method": "GET|POST",
  "pathPattern": "",
  "parameters": [
    {
      "name": "Collection",
      "description": "文档库名称。\n\n> 由[CreateDocumentCollection](~~2618448~~)接口创建。您可以调用[ListDocumentCollections](~~2618452~~)接口查看已经创建的文档库。",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "Content",
      "description": "用于检索的文本内容。",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "DBInstanceId",
      "description": "实例ID。\n\n> 您可以调用[DescribeDBInstances](~~86911~~)接口查看目标地域下所有的AnalyticDB PostgreSQL实例的详情，包括实例ID。",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "FileName",
      "description": "以图搜图场景中，待搜索的图片源文件名。\n\n> 图片文件必须带有文件后缀，当前支持的图片后缀：bmp、jpg、jpeg、png、 tiff。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "FileUrl",
      "description": "以图搜图场景中，公网可访问的图片文件URL地址。\n\n> 图片文件必须带有文件后缀，当前支持的图片后缀：bmp、jpg、jpeg、png、tiff。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "Filter",
      "description": "要查询的数据的过滤条件，格式为SQL的WHERE格式。是一个返回布尔值（真或假）的表达式，条件可以是简单的比较运算符，如等于(=)、不等于(<>或!=)、大于(>), 小于(<)、大于等于(>=)、小于等于(<=)，也可以是逻辑运算符（AND, OR, NOT）组合的更复杂的表达式，以及使用IN、BETWEEN、LIKE等关键字的条件。\n\n> \n> - 详细语法可参考：https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-where/",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "GraphEnhance",
      "description": "是否开启知识图谱增强。默认值：false。",
      "position": "Query",
      "type": "Boolean",
      "required": false
    },
    {
      "name": "GraphSearchArgs",
      "description": "知识图谱检索参数。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "HybridSearch",
      "description": "双路召回算法，默认为空(即直接将向量和全文的分数比较并排序)。\n\n可选值：\n\n- RRF：倒数排序融合(Reciprocal rank fusion)，有一个参数k控制融合效果，详见HybridSearchArgs配置；\n- Weight：比重排序，采用一个参数alpha控制向量和全文的分数比重，然后再排序，参数详见HybridSearchArgs配置；\n- Cascaded：先全文检索再在其基础上进行向量检索；",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "HybridSearchArgs",
      "description": "双路召回的算法参数。目前支持RRF和Weight两种：\n\n- RRF：指定计算分数的算法的`1/(k+rank_i)`中的k常数，范围大于1的正整数，格式为：\n```\n{ \n   \"RRF\": {\n    \"k\": 60\n   }\n}\n```\n\n- Weight: 计算公式`alpha * vector_score + (1-alpha) * text_score`，参数alpha表示向量和全文的检索分数比重，范围为0～1，其中0表示只全文，1表示只向量：\n```\n{ \n   \"Weight\": {\n    \"alpha\": 0.5\n   }\n}\n```",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "IncludeFileUrl",
      "description": "是否同步返回文档的链接地址，默认不返回。",
      "position": "Query",
      "type": "Boolean",
      "required": false
    },
    {
      "name": "IncludeMetadataFields",
      "description": "默认为空，表示要返回的metadata字段，多个字段用逗号分隔。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "IncludeVector",
      "description": "是否返回向量。默认为false。\n> - **false**：不返回向量。\n> - **true**：返回向量。",
      "position": "Query",
      "type": "Boolean",
      "required": false
    },
    {
      "name": "Metrics",
      "description": "检索时的相似度算法。此值为空时则采用创建知识库时指定的算法，建议如无特殊需求不需设置。\n\n> 取值说明：\n> - **l2**：欧氏距离。\n> - **ip**：点积（内积）距离。\n> - **cosine**：余弦相似度。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "Namespace",
      "description": "命名空间，默认为public。\n\n> 您可以通过[CreateNamespace](~~2401495~~)接口创建，通过[ListNamespaces](~~2401502~~)接口查看列表。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "NamespacePassword",
      "description": "命名空间对应的密码。\n\n> 本值为[CreateNamespace](~~2401495~~)接口指定。",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "Offset",
      "description": "偏移量，用于分页查询",
      "position": "Query",
      "type": "Integer",
      "required": false
    },
    {
      "name": "OrderBy",
      "description": "默认为空，表示排序的依据字段。\n\n字段必须属于 metadata 或表里的默认字段比如 id，格式支持：\n\n单个字段，如 chunk_id；\n多个字段，用逗号连接，如 block_id, chunk_id；\n支持反序，如: block_id DESC, chunk_id DESC；",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "RecallWindow",
      "description": "召回窗口。当该值不为空时，增加返回检索结果的上下文。格式为2个元素的数组：List<A, B>，其中-10<=A<=0，0<=B<=10。\n> - 推荐当文档切分过碎、检索可能会丢失上下文信息时使用该参数。\n> - 重排优先窗口化，即先rerank，再窗口化处理。",
      "position": "Query",
      "type": "Json",
      "required": false
    },
    {
      "name": "RegionId",
      "description": "实例所在的地域ID。",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "RerankFactor",
      "description": "重排因子。当该值不为空时，会对向量检索结果再做一次重排。取值范围：1<RerankFactor<=5。\n> - 当文档切分稀疏时，重排效率慢。\n> - 建议重排个数（TopK*Factor（向上取整））不超过50。",
      "position": "Query",
      "type": "Double",
      "required": false
    },
    {
      "name": "TopK",
      "description": "返回top数量的结果。",
      "position": "Query",
      "type": "Integer",
      "required": false
    },
    {
      "name": "UrlExpiration",
      "description": "返回图片URL的有效期。\n\n> 取值说明\n> - 支持以秒（s）和日（d）为单位。例如300s代表链接有效期为300秒，60d代表链接有效期为60天。\n> - 取值范围在60s ~ 365d之间。\n> - 默认值：7200s，即2小时",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "UseFullTextRetrieval",
      "description": "是否使用全文检索（双路召回）。默认为false，仅采用向量检索。",
      "position": "Query",
      "type": "Boolean",
      "required": false
    }
  ]
}