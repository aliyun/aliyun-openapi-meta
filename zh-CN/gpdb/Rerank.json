{
  "name": "Rerank",
  "deprecated": false,
  "protocol": "HTTPS",
  "method": "GET|POST",
  "pathPattern": "",
  "parameters": [
    {
      "name": "DBInstanceId",
      "description": "实例ID。\n\n> 您可以调用[DescribeDBInstances](~~86911~~)接口查看目标地域下所有的AnalyticDB PostgreSQL实例的详情，包括实例ID。",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "Documents",
      "description": "要重新排序的文档列表。",
      "position": "Body",
      "type": "Json",
      "required": false
    },
    {
      "name": "MaxChunksPerDoc",
      "description": "超出模型窗口时，允许将文本切分的最大块数：\n- bge-reranker-v2-m3：默认值是10。\n- bge-reranker-v2-minicpm-layerwise：默认值是5：\n\n> 切分举例\n> - 如果使用bge-reranker-v2-minicpm-layerwise模型，则最大单推理窗口为2048tokens，此时如果query是48tokens，单个document参数内容为9000tokens，则会被分为：1-2000为第一个，2001-4000为第二个，以此类推，并且切分个数超过MaxChunksPerDoc后，后面的语句会被丢弃。",
      "position": "Body",
      "type": "Integer",
      "required": false
    },
    {
      "name": "Model",
      "description": "Rerank模型，目前支持\n- bge-reranker-v2-m3:（默认值），性能较好，单条推理支持8192tokens，超出会被切分，效果可能下降。\n- bge-reranker-v2-minicpm-layerwise：效果相比v2-m3更优，单条推理支持2048tokens，超出会被切分，效果可能下降。",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "Query",
      "description": "Rerank对应的查询语句。",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "RegionId",
      "description": "实例所在Region ID。",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "ReturnDocuments",
      "description": "为false时，不返回Documents文本，仅仅返回文档排序的索引及rerank得分。",
      "position": "Body",
      "type": "Boolean",
      "required": false
    },
    {
      "name": "TopK",
      "description": "要返回的最相关文档的数量。",
      "position": "Body",
      "type": "Integer",
      "required": false
    }
  ]
}