{
  "name": "ModifyDBClusterEndpoint",
  "deprecated": false,
  "security": [
    "AK"
  ],
  "protocol": "HTTP|HTTPS",
  "method": "GET|POST",
  "pathPattern": "",
  "parameters": [
    {
      "name": "AutoAddNewNodes",
      "description": "新节点是否自动加入本地址，取值范围如下： \n\n- **Enable**：是\n- **Disable**：否（默认值）",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "DBClusterId",
      "description": "集群ID。",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "DBEndpointDescription",
      "description": "地址名称。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "DBEndpointId",
      "description": "集群地址ID。",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "EndpointConfig",
      "description": "集群地址的高级配置，格式为JSON，目前支持设置一致性级别、事务拆分、主库是否接受读和连接池等。\n\n* 设置负载均衡策略，格式为`{\\\"LoadBalancePolicy\\\":\\\"负载均衡策略\\\"}`。取值范围如下：   \n    * **0**：基于连接数负载均衡（默认）\n    * **1**：基于活跃请求数负载均衡\n\n* 设置主库是否接受读，格式为`{\\\"MasterAcceptReads\\\":\\\"主库是否接受读\\\"}`。取值范围如下：\n    * **on**：表示主库接受读（默认）\n    * **off**：表示主库不接受读\n\n* 设置事务拆分，格式为`{\\\"DistributedTransaction\\\":\\\"事务拆分\\\"}`。取值范围如下：\n    * **on**：开启事务拆分（默认）\n    * **off**：关闭事务拆分\n\n* 设置一致性级别，格式为`{\\\"ConsistLevel\\\":\\\"一致性级别\\\"}`。取值范围如下：\n    * **0**：最终一致性（弱）\n    * **1**：会话一致性（中）（默认）\n    * **2**：全局一致性（强）\n\n* 设置全局一致性读超时时间，格式为`{\\\"ConsistTimeout\\\":\\\"全局一致性读超时时间\\\"}`。取值范围：0~60000。默认值为20。单位为ms。\n\n* 设置全局一致性读超时策略，格式为`{\\\"ConsistTimeoutAction\\\":\\\"全局一致性读超时策略\\\"}`。取值范围如下：\n    * **0**：将读请求发往主节点（默认）。\n    * **1**：代理返回一个错误报文wait replication complete timeout, please retry给应用端。\n\n* 设置连接池，格式为`{\\\"ConnectionPersist\\\":\\\"连接池\\\"}`。取值范围如下：\n    * **off**：关闭连接池（默认）\n    * **Session**：开启会话级连接池\n    * **Transaction**：开启事务级连接池\n\n* 设置并行查询，格式为`{\\\"MaxParallelDegree\\\":\\\"并行查询\\\"}`。取值范围如下：\n    * **on**：开启并行查询\n    * **off**：关闭并行查询（默认）\n\n* 设置行存/列存自动引流，格式为`{\\\"EnableHtapImci\\\":\\\"行存/列存自动引流\\\"}`。取值范围如下：\n    * **on**：开启行存/列存自动引流功能\n    * **off**：关闭行存/列存自动引流功能（默认）\n\n* 设置是否开启过载保护，格式为`{\\\"EnableOverloadThrottle\\\":\\\"是否开启过载保护\\\"}`。取值范围如下：\n    * **on**：开启过载保护\n    * **off**：关闭过载保护（默认）\n\n> * 仅当PolarDB MySQL版集群地址的读写模式为**可读可写（自动读写分离）**时，支持设置事务拆分、主库是否接受读、连接池和是否开启过载保护。\n> * 当PolarDB MySQL版集群地址的读写模式为**只读**时，支持**基于连接数负载均衡**和**基于活跃请求数负载均衡**两种负载均衡策略； **可读可写（自动读写分离）**模式的集群地址仅支持**基于活跃请求数负载均衡**策略。\n> * 当PolarDB MySQL版集群地址的读写模式为**可读可写（自动读写分离）**，或集群地址的读写模式为**只读**且负载均衡策略为**基于活跃请求数负载均衡**时，支持设置行存/列存自动引流。\n> * 仅PolarDB MySQL版支持一致性级别设置为全局一致性。\n> * 如果参数**ReadWriteMode**取值为**ReadOnly**，一致性级别取值只能为**0**。\n> * 您可以同时设置一致性级别、事务拆分、主库是否接受读和连接池，例如`{\\\"ConsistLevel\\\":\\\"1\\\",\\\"DistributedTransaction\\\":\\\"on\\\",\\\"ConnectionPersist\\\":\\\"Session\\\",\\\"MasterAcceptReads\\\":\\\"on\\\"}`。\n> * 事务拆分的设置受一致性级别设置的约束。例如一致性级别取值为**0**时，不支持开启事务拆分；一致性级别取值为**1**或**2**时，支持开启事务拆分。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "Nodes",
      "description": "加入目标地址的读负载节点，多个节点间用英文逗号（,）分隔。 默认为原有节点。\n\n> * PolarDB MySQL版需要传入节点ID。\n> * PolarDB PostgreSQL版和PolarDB PostgreSQL版（兼容Oracle）需要传入节点角色名称，例如`Writer,Reader1,Reader2`。\n> * **ReadWriteMode**取值为**ReadOnly**时，支持只挂载一个节点。但当此节点故障时，该地址可能会有最多1小时的不可用，请勿用于生产环境。因此，推荐至少选择2个节点，以提升可用性。\n> * **ReadWriteMode**取值为**ReadWrite**时，至少要选择2个节点。\n    * PolarDB MySQL版支持选择任意两个节点。当两个节点都是只读节点时，写请求都会发往主节点。\n    * PolarDB PostgreSQL版和PolarDB PostgreSQL版（兼容Oracle）必须包含主节点。",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "ReadWriteMode",
      "description": "读写模式，取值范围如下：\n\n- **ReadWrite**：可读可写（自动读写分离）\n- **ReadOnly**：只读",
      "position": "Query",
      "type": "String",
      "required": false
    }
  ]
}