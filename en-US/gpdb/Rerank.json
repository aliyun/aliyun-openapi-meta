{
  "name": "Rerank",
  "deprecated": false,
  "protocol": "HTTPS",
  "method": "GET|POST",
  "pathPattern": "",
  "parameters": [
    {
      "name": "DBInstanceId",
      "description": "Instance ID.\n\n> You can call the [DescribeDBInstances](~~86911~~) API to view details of all AnalyticDB PostgreSQL instances in the target region, including the instance ID.",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "Documents",
      "description": "List of documents to be re-ordered.",
      "position": "Body",
      "type": "Json",
      "required": false
    },
    {
      "name": "MaxChunksPerDoc",
      "description": "Maximum number of chunks allowed when the text exceeds the model window:\n- bge-reranker-v2-m3: default value is 10.\n- bge-reranker-v2-minicpm-layerwise: default value is 5:\n\n> Example of splitting\n> - If using the bge-reranker-v2-minicpm-layerwise model, the maximum single inference window is 2048 tokens. If the query is 48 tokens and the content of a single document parameter is 9000 tokens, it will be divided as follows: 1-2000 for the first, 2001-4000 for the second, and so on. If the number of splits exceeds MaxChunksPerDoc, the remaining sentences will be discarded.",
      "position": "Body",
      "type": "Integer",
      "required": false
    },
    {
      "name": "Model",
      "description": "Rerank model, currently supports:\n- bge-reranker-v2-m3: (default), better performance, supports 8192 tokens per inference, if exceeded, it will be split, which may reduce the effect.\n- bge-reranker-v2-minicpm-layerwise: better performance than v2-m3, supports 2048 tokens per inference, if exceeded, it will be split, which may reduce the effect.",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "Query",
      "description": "Query statement for Rerank.",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "RegionId",
      "description": "Region ID where the instance is located.",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "ReturnDocuments",
      "description": "If set to false, does not return the Documents text, only returns the index of the document order and the rerank score.",
      "position": "Body",
      "type": "Boolean",
      "required": false
    },
    {
      "name": "TopK",
      "description": "Number of most relevant documents to return.",
      "position": "Body",
      "type": "Integer",
      "required": false
    }
  ]
}