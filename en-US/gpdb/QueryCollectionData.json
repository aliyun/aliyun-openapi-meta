{
  "name": "QueryCollectionData",
  "deprecated": false,
  "protocol": "HTTP|HTTPS",
  "method": "GET|POST",
  "pathPattern": "",
  "parameters": [
    {
      "name": "Collection",
      "description": "Collection name.\n\n> You can use the [ListCollections](~~2401503~~) API to view the list.",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "Content",
      "description": "Content for full-text search. When this value is empty, only vector search is used; when it is not empty, both vector and full-text search are used.\n\n> The Vector parameter cannot be empty at the same time.",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "DBInstanceId",
      "description": "Instance ID.\n\n> You can call the [DescribeDBInstances](~~86911~~) API to view details of all AnalyticDB PostgreSQL instances in the target region, including the instance ID.",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "Filter",
      "description": "Filter conditions for the data to be queried, in SQL WHERE format. It is an expression that returns a boolean value (true or false). Conditions can be simple comparison operators such as equal (=), not equal (<> or !=), greater than (>), less than (<), greater than or equal to (>=), less than or equal to (<=), or more complex expressions combined with logical operators (AND, OR, NOT), as well as conditions using keywords like IN, BETWEEN, and LIKE.\n\n> \n> - For detailed syntax, refer to: https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-where/",
      "position": "Body",
      "type": "String",
      "required": false
    },
    {
      "name": "HybridSearch",
      "description": "Dual-path recall algorithm, default is empty (i.e., directly compare and sort the scores of vectors and full-text).\n\nAvailable values:\n\n- RRF: Reciprocal rank fusion, with a parameter k controlling the fusion effect. See HybridSearchArgs configuration for details;\n- Weight: Weighted sorting, using a parameter alpha to control the score ratio of vectors and full-text, then sorting. See HybridSearchArgs configuration for details;\n- Cascaded: Perform full-text search first, then vector search based on the full-text results;",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "HybridSearchArgs",
      "description": "The parameters of the two-way retrieval algorithm. The following parameters are supported:\n\n*   When HybridSearch is set to RRF, the scores are calculated by using the `1/(k+rank_i)` formula. The constant k is a positive integer that is greater than 1.\n\n<!---->\n\n    { \n       \"RRF\": {\n        \"k\": 60\n       }\n    }\n\n*   When HybridSearch is set to Weight, the scores are calculated by using the `alpha * vector_score + (1-alpha) * text_score` formula. The alpha parameter specifies the proportion of the vector search score and the full-text search score and ranges from 0 to 1. A value of 0 specifies full-text search and a value of 1 specifies vector search.\n\n<!---->\n\n    { \n       \"Weight\": {\n        \"alpha\": 0.5\n       }\n    }",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "IncludeMetadataFields",
      "description": "Defaults to empty, indicating the metadata fields to return. Multiple fields should be separated by commas.",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "IncludeSparseValues",
      "description": "",
      "position": "Query",
      "type": "Boolean",
      "required": false
    },
    {
      "name": "IncludeValues",
      "description": "Whether to return vector data. Value descriptions:\n- **true**: Return vector data.\n- **false**: Do not return vector data, used for full-text search scenarios.",
      "position": "Query",
      "type": "Boolean",
      "required": false
    },
    {
      "name": "Metrics",
      "description": "Similarity algorithm used during retrieval. Value descriptions:\n- **l2**: Euclidean distance.\n- **ip**: Inner product (dot product) distance.\n- **cosine**: Cosine similarity.\n\n> If this value is empty, the algorithm specified during index creation is used.",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "Namespace",
      "description": "Namespace.\n\n> You can use the [ListNamespaces](~~2401502~~) API to view the list.",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "NamespacePassword",
      "description": "Password for the namespace.",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "Offset",
      "description": "Defaults to empty, indicating the starting point for pagination queries. Does not support hybrid search scenarios.\n\nThe value must be >= 0. When this value is not empty, it will return `Total`, which indicates the total number of hits. This parameter works with `TopK`. For example, to paginate 20 and retrieve chunks with `chunk_id` from 0 to 44, you need to make three requests:\n- `Offset=0, TopK=20` returns `chunk_id` 0~19\n- `Offset=20, TopK=20` returns `chunk_id` 20~39\n- `Offset=30, TopK=20` returns `chunk_id` 40~44",
      "position": "Query",
      "type": "Integer",
      "required": false
    },
    {
      "name": "OrderBy",
      "description": "Defaults to empty, indicating the field for sorting. Does not support hybrid search scenarios.\n\nThe field must belong to metadata or be a default field in the table, such as `id`. The supported formats are:\n- A single field, e.g., `chunk_id`;\n- Multiple fields, separated by commas, e.g., `block_id, chunk_id`;\n- Supports reverse order, e.g., `block_id DESC, chunk_id DESC`;",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "RegionId",
      "description": "Region ID where the instance is located.",
      "position": "Query",
      "type": "String",
      "required": true
    },
    {
      "name": "RelationalTableFilter",
      "description": "Uses another relational table to filter vector data (similar to a Join function).\n\n> Data from the relational table can be returned by setting the `IncludeMetadataFields` parameter. For example, `rds_table_name.id` indicates returning the `id` field from the relational table.",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "SparseVector",
      "description": "",
      "position": "Query",
      "type": "String",
      "required": false
    },
    {
      "name": "TopK",
      "description": "Set the number of top results to return.",
      "position": "Query",
      "type": "Long",
      "required": true
    },
    {
      "name": "Vector",
      "description": "Vector data, with the same dimension as specified in the [CreateCollection](~~2401497~~) API.\n> When the vector is empty, only full-text search results are returned.",
      "position": "Query",
      "type": "Json",
      "required": false
    },
    {
      "name": "WorkspaceId",
      "description": "The ID of the Workspace composed of multiple database instances. This parameter and `DBInstanceId` cannot both be empty. If both are specified, this parameter takes precedence.",
      "position": "Query",
      "type": "String",
      "required": false
    }
  ]
}